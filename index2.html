<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documento3</title>
    <link rel="stylesheet" href="amoreco.css">
</head>
<body>
    <a href="index1.html">voltar</a> 
<h3>Adicionar Novo Aluno</h3>
                    Nome: 
                    <input type="text" id="nome" name="nome" value="">
                    <br>
                    Nascimento: 
                    <input type="date" id="nascimento" name="nascimento" value="">
                    <br>
                    Telefone: 
                    <input type="text" id="telefone" name="telefone" value="">
                    <br>
                    Endereço: 
                    <input type="text" id="endereco" name="endereco" value="">
                    <br>
                    <input type="hidden" name="acao" value="inserir">
                 <button onclick="cadastrar()" >cadastrar</button>

<script>

      
    function cadastrar() {
        var token = "d0628475394041d7b9f82c7a46c5a266";
          // Exemplo de requisição POST para adicionar uma nova pessoa
        fetch("https://crudcrud.com/api/"+token+"/pessoas", {
        // metodo de requisição (get, post, put, delete)
        method: "POST",
        // cabeçalho da requisição(tipo de conteudo, autorizações, etc...)
        headers: {
            "Content-Type": "application/json"
        },
        // corpo da requisição (dados que serão enviados)
        body: JSON.stringify({
            nome: document.getElementById('nome').value,
            nascimento: document.getElementById('nascimento').value,
            endereco: document.getElementById('endereco').value,
            telefone: document.getElementById('telefone').value
        })
        })
        .then(response => response.json())
        .then(data => console.log("pessoa criado:", data))
        .catch(error => console.error("Erro no POST:", error))
        .finally(() => {
            // redirecionar para a pagina inicial
            setTimeout(window.location.href = "index1.html", 2000);
            
        });
    }


</script>
</body>
</html>